!function(e){"function"==typeof define&&define.amd&&define(["jquery"],e)}(function(e,t){"use strict";function a(e,t,a){return a=void 0!==a?a:"",e.is("[id]")||e.attr("id",t+a),e.attr("id")}function r(t,a){return a?e.extend({},t,a):t}function s(e,t){for(var a=e.split(" "),r=a.length,s="",i=0;i<r;i+=1)s=s+" "+a[i]+"."+t;return String(s)}function i(e,t,a){return/^\d{4}-\d{2}-\d{2}$/.test(e)?e:3===(e=e.split(a)).length&&2===e[0].length&&2===e[1].length&&4===e[2].length&&("eu"===t?e=e[2]+"-"+e[1]+"-"+e[0]:"us"===t&&(e=e[2]+"-"+e[0]+"-"+e[1]),e)}function l(e,t,a){if(Array.isArray(e)){var r=e[1];return 3!==(e=e[0].attr(f.dV)||e[0].val()).length||e||(e=e[2]),e=i(e,t,a),e=new Date(e),e=e.setDate(e.getDate()+r)}return e=e.attr(f.dV)||e.val(),i(e,regionSettings.dateFormat,regionSettings.dateSeparator)}function n(e){if(Array.isArray(e)){var t=e[1];return 3!==(e=""!==e[0].attr(f.dV)?e[0].attr(f.dV).length:e[0].val().length).length||e||(e=e[2]),(e+=t)>0?e:t}return e=e.attr(f.dV).length||e.val().length}function o(e){if(Array.isArray(e)){var t=e[1];return 3!==(e=e[0].attr(f.dV)||e[0].val()).length||e||(e=e[2]),parseFloat(e,10)+t}return e=e.attr(f.dV)||e.val(),parseFloat(e,10)}function d(t,a){var s=this;s.element=e(t),s.userSettings=a,s.behaviour=s.userSettings.behaviour,s.behaviourLength=s.behaviour.length,s.classes=r(e.fn[u].defaultClasses,s.userSettings.classes),s.regionSettings=r(e.fn[u].defaultRegionSettings,s.userSettings.regionSettings),s.fieldStatus=void 0,s.fieldValue=void 0,s.errorMsgs=r(e.fn[u].defaultErrorMsgs,s.userSettings.errorMsgs),s.successMsg=s.userSettings.successMsg?s.userSettings.successMsg:e.fn[u].defaultSuccessMsg,s.eventListeners=null,s.selectElements(),s.initMarkup(),s.addBehaviour(),s.updateFieldValue()}var u="ariaValidate",f={r:"role",aHi:"aria-hidden",aLi:"aria-live",aRe:"aria-relevant",aAt:"aria-atomic",aErM:"aria-errormessage",aInv:"aria-invalid",aOw:"aria-owns",req:"required",dV:"data-value",t:"true",f:"false"},c=0,g=e(t);e.extend(d.prototype,{selectElements:function(){var t=this,a=t.classes,r=t.element;t.field=r.find("."+a.fieldClass),t.label=r.find("."+a.labelClass),t.alertbox=1===r.find("."+a.alertboxClass).length&&r.find("."+a.alertboxClass),t.successbox=1===r.find("."+a.successboxClass).length&&r.find("."+a.successboxClass),1===t.field.length?(t.fieldTag=t.field.prop("tagName"),t.fieldType="INPUT"===t.fieldTag&&t.field.attr("type"),t.fieldName=t.userSettings.fieldName||t.field.attr("name")):(t.fieldTag="INPUT",t.fieldType="radio",t.fieldName=t.userSettings.fieldName||e(t.field[0]).attr("name"))},initMarkup:function(){var t=this,r=a(t.element,t.classes.inputGroupIdPrefix,c),s="",i=!1!==t.alertbox&&a(t.alertbox,r+"__alertbox"),l=!1!==t.successbox&&a(t.successbox,r+"__successbox");"radio"!==t.fieldType?(s=a(t.field,r+"__input"),t.label.is('[for="'+s+'"]')||t.label.attr("for",s)):(s=[],t.field.each(function(i){var l=e(this);s.push(a(l,r+"__input-"+i)),l.is('[for="'+s[i]+'"]')||e(t.label[i]).attr("for",s[i])})),t.alertbox&&(t.field.attr(f.aErM,i),t.alertbox.attr(f.r,"alert").attr(f.aLi,"assertive").attr(f.aRe,"additions text").attr(f.aAt,f.t).attr(f.aHi,f.t)),t.successbox&&(t.field.attr(f.aOw,l),t.successbox.attr(f.aLi,"polite").attr(f.aRe,"additions text").attr(f.aAt,f.t).attr(f.aHi,f.t)),g.trigger(u+".markupInitialised",[t]),c+=1},addBehaviour:function(){for(var e=this,t=e.behaviour,a=e.behaviourLength,r=0;r<a;r+=1)e.bindEventListeners(t[r]);g.trigger(u+".behaviourAdded",[e])},bindEventListeners:function(e){var t=this,a=s(e.event,u),r=e.autoformat||!1,i=e.validate||!1,l=e.main||!1;t.field.on(a,function(){r&&t.performAutoformat(r),i&&t.performValidation(i,l),t.eventListeners=t.eventListeners+" "+e.event})},unbindEventListeners:function(e){var t=this,e=s(e,u);t.field.off(s(e,u)),t.eventListeners=t.eventListeners.replace(e,""),g.trigger(u+".eventListenersRemoved",[t])},updateFieldValue:function(){var e=this;"checkbox"===e.fieldType?e.fieldValue=e.field.prop("checked"):"radio"===e.fieldType?e.fieldValue=1===e.field.filter(":checked").length&&e.field.filter(":checked").val():e.fieldValue=e.field.val()||"",e.field.attr(f.dV,e.fieldValue)},performAutoformat:function(t){var a=this;a.updateFieldValue();for(var r in t)a.fieldValue=e.fn[u].autoformatFunctions[r](a.fieldValue,t[r],a.regionSettings);a.field.val(a.fieldValue)},performValidation:function(t,a){var r=this;r.updateFieldValue();for(var s in t){var i=e.fn[u].validateFunctions[s](r.fieldValue,t[s],r.regionSettings);if(!0!==i)return r.fieldStatus=i,void r.invalidateFieldGroup()}a?r.validateFieldGroup(a):r.resetFieldGroup()},invalidateFieldGroup:function(){var e=this;e.element.removeClass(e.classes.fieldGroupValidClass).addClass(e.classes.fieldGroupErrorClass),e.field.attr(f.aInv,f.t).removeClass(e.classes.fieldValidClass).addClass(e.classes.fieldErrorClass),e.label.removeClass(e.classes.labelValidClass).addClass(e.classes.labelErrorClass),e.successbox&&e.successbox.html("").attr(f.aHi,f.t).removeClass(e.classes.successboxVisibleClass),e.alertbox&&!0!==e.fieldStatus&&e.alertbox.html(e.errorMsgs[e.fieldStatus]).attr(f.aHi,f.f).addClass(e.classes.alertboxVisibleClass),g.trigger(u+".isInvalid",[e])},validateFieldGroup:function(){var e=this;e.element.removeClass(e.classes.fieldGroupErrorClass).addClass(e.classes.fieldGroupValidClass),e.field.attr(f.aInv,f.f).removeClass(e.classes.fieldErrorClass).addClass(e.classes.fieldValidClass),e.label.removeClass(e.classes.labelErrorClass).addClass(e.classes.labelValidClass),e.alertbox&&e.alertbox.html("").attr(f.aHi,f.t).removeClass(e.classes.alertboxVisibleClass),e.successbox&&!1!==e.successMsg&&e.successbox.html(e.successMsg).attr(f.aHi,f.f).addClass(e.classes.successboxVisibleClass),g.trigger(u+".isValid",[e])},resetFieldGroup:function(){var e=this;e.element.removeClass(e.classes.fieldGroupErrorClass).removeClass(e.classes.fieldGroupValidClass),e.field.removeAttr(f.aInv).removeClass(e.classes.fieldErrorClass).removeClass(e.classes.fieldValidClass),e.label.removeClass(e.classes.labelErrorClass).removeClass(e.classes.labelValidClass),e.alertbox&&e.alertbox.html("").attr(f.aHi,f.t).removeClass(e.classes.alertboxVisibleClass),e.successbox&&!1!==e.successMsg&&e.successbox.html("").attr(f.aHi,f.t).removeClass(e.classes.successboxVisibleClass),g.trigger(u+".resetted",[e])},destroy:function(){var t=this;t.unbindEventListeners(t.eventListeners),t.eventListeners=null,e.removeData(t,"plugin_"+u)},methodCaller:function(e,t){var a=this;switch(e){case"updateFieldValue":a.updateFieldValue();break;case"unbindEventListeners":a.unbindEventListeners(t);break;case"destroy":a.destroy();break;case"invalidateField":a.invalidateFieldGroup();break;case"resetField":a.resetFieldGroup()}}}),e.fn[u]=function(t,a){return this.each(function(){var r=this;e.data(r,"plugin_"+u)||"object"!=typeof t&&void 0!==t?"string"==typeof t&&e.data(r,"plugin_"+u).methodCaller(t,a):e.data(r,"plugin_"+u,new d(r,t))})},e.fn[u].defaultClasses={fieldGroupIdPrefix:"field-group--",fieldGroupValidClass:"field-group_valid",fieldGroupErrorClass:"field-group_error",fieldClass:"field-group__field",fieldErrorClass:"field-group__field_error",fieldValidClass:"field-group__field_valid",labelClass:"field-group__label",labelErrorClass:"field-group__label_error",labelValidClass:"field-group__label_valid",alertboxClass:"field-group__alertbox",successboxClass:"field-group__successbox",alertboxVisibleClass:"field-group__alertbox_visible",successboxVisibleClass:"field-group__successbox_visible"},e.fn[u].defaultRegionSettings={dateFormat:"eu",dateSeparator:"/",decimalSeparator:","},e.fn[u].defaultErrorMsgs={letters:"Digits are not allowed in this field",onlyLetters:"Only letters are accepted",digits:"Letters are not allowed in this field",onlyDigits:"Only digits are accepted",int:"Enter a whole number (e.g. 12)",float:"Enter a number (e.g. 12.168 or 16)",bool:"You have to check this checkbox in order to continue",date:"Not a valid date",minDate:"The date entered is too far in the past",maxDate:"The date entered is too far in the future",time:"Entera valid time (e.g. 10:30)",minTime:"Time is before the minimum time",maxTime:"Time is after the maximum time",email:"Enter a valid email address",telWithPrefix:"Enter a valid phone number with the county prefix (e.g. +49 373837638)",telNoPrefix:"Enter a valid phone number",telPrefix:"Not a valid prefix",password:"Password is not secure",min:"The entered number is too small",max:"The entered number is too big",minLength:"The length of the input is too short",maxLength:"Field length exceeds the maximum number of chars allowed",required:"This field is required to sucessfully complete the form",tokens:"Please choose one value from the list",match:"No match",customRegex:'Regex match returned "false"',ajax:"server says no!",ajaxError:"Server error."},e.fn[u].defaultSuccessMsg="Perfect! You told us exactly what we wanted to know!",e.fn[u].validateFunctions={letters:function(e){return!!/^[\D]*$/.test(e)||"letters"},onlyLetters:function(e){return!!/^[a-zA-Z�������������������������������������������������������������]*$/.test(e)||"onlyLetters"},digits:function(e){return!!/^[^a-zA-Z�������������������������������������������������������������]*$/.test(e)||"digits"},onlyDigits:function(e){return!!/^[\d]*$/.test(e)||"onlyDigits"},int:function(e){var t=parseInt(e,10);return!!Number.isInteger(t)||(""===t||"int")},float:function(e,t,a){var r=e.split(","),s=e.split(".");return r.length>=2&&"."===a.decimalSeparator||s.length>=2&&","===a.decimalSeparator?"float":(","===a.decimalSeparator&&(e=e.replace(/,/,".")),!isNaN(e-parseFloat(e))||"float")},bool:function(e){return!!e||"bool"},date:function(e,t,a){if(!1===(e=i(e,a.dateFormat,a.dateSeparator)))return"date";if(""!==e){var r=new Date(e);return!isNaN(r.getTime())||"date"}return!0},minDate:function(e,t,a){return""===e||("object"==typeof t&&(t=l(t,a.dateFormat,a.dateSeparator)),e=i(e,a.dateFormat,a.dateSeparator),new Date(e)>=new Date(t)||"minDate")},maxDate:function(e,t,a){return""===e||("object"==typeof t&&(t=l(t,a.dateFormat,a.dateSeparator)),e=i(e,a.dateFormat,a.dateSeparator),new Date(e)<=new Date(t)||"maxDate")},email:function(e,t){return!!/^([\w-\.]+@([\w\-]+\.)+[\w\-]{2,4})?$/.test(e)||"email"},telWithPrefix:function(e){return!!/^(\+(?:[0-9] ?){6,14}[0-9])?$/.test(e)||"telWithPrefix"},telNoPrefix:function(e){return!!/^((?:[0-9] ?){6,14}[0-9])?$/.test(e)||"telNoPrefix"},telPrefix:function(e){return!!/^(\+(?:[0-9] ?){1,4}[0-9])?$/.test(e)||"telPrefix"},password:function(e){return!!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,50})/.test(e)||"password"},min:function(e,t){"object"==typeof t&&(t=o(t));var a=parseFloat(e,10);return a>=t||(""===a||"min")},max:function(e,t){"object"==typeof t&&(t=o(t));var a=parseFloat(e,10);return a<=t||(""===a||"max")},minLength:function(e,t){"object"==typeof t&&(t=n(t));var a=e.length;return a>=t||(0===a||"minLength")},maxLength:function(e,t){"object"==typeof t&&(t=n(t));var a=e.length;return a<=t||(0===a||"maxLength")},required:function(e){return e.length>0||"required"},tokens:function(e,t){for(var a=t.length,r=0;r<a;r+=1)if(t[r]===e)return!0;return"tokens"},matchMain:function(e,t){var a=t.val();return""===a||(e===a||"match")},match:function(e,t){return e===t.val()||"match"},customRegex:function(e,t){return!!t.test(e)||"customRegex"},ajax:function(t,a){e.ajax({method:"POST",url:a,data:t}).done(function(e){return"true"===e||"ajax"}).fail(function(){return g.trigger(u+".ajaxError",a),"ajaxError"})}},e.fn[u].autoformatFunctions={trim:function(e){return e.trim()},uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},capitalize:function(e){for(var t=e.split(" "),a=t.length,r="",s=0;s<a;s+=1)t[s]=t[s].slice(0,1).toUpperCase()+t[s].slice(1),r=r+" "+t[s];return r},capitalizeFirst:function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},replace:function(e,t){if(Array.isArray(t)&&t.length>0)for(var a=t.length,r=0;r<a;r+=1)e=e.replace(t[r].searchFor,t[r].replaceWith);else e=e.replace(t.searchFor,t.replaceWith);return e},autocompleteDate:function(e,t,a){if(""!==t&&void 0!==t||(t="20"),""===e)return e;var r=a.dateSeparator,s=e.split(a.dateSeparator),i="",l="",n="";return 3!==s.length?e:(i=s[0],l=s[1],n=s[2],1===i.length&&(i="0"+i),1===l.length&&(l="0"+l),2===n.length&&(n=t+n),i+r+l+r+n)}}}(jQuery,window));