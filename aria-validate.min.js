!function(e){"function"==typeof define&&define.amd&&define(["jquery"],e)}(function(e,t){"use strict";function l(e,t,a){return a=void 0!==a?a:"",e.is("[id]")||e.attr("id",t+a),e.attr("id")}function n(t,a){return a?e.extend({},t,a):t}function o(e,t){for(var a=e.split(" "),r=a.length,i="",s=0;r>s;s+=1)i=i+" "+a[s]+"."+t;return String(i)}function u(e,t,a){return e=e.split(a),"eu"===t?e=e[2]+"-"+e[1]+"-"+e[0]:"us"===t&&(e=e[2]+"-"+e[0]+"-"+e[1]),e}function d(t,r){var i=this;i.element=e(t),i.userSettings=r,i.behaviour=i.userSettings.behaviour,i.classes=n(e.fn[a].defaultClasses,i.userSettings.classes),i.regionSettings=n(e.fn[a].defaultRegionSettings,i.userSettings.regionSettings),i.fieldStatus=void 0,i.fieldValue=void 0,i.errorMsgs=n(e.fn[a].defaultErrorMsgs,i.userSettings.errorMsgs),i.successMsg=i.userSettings.successMsg?i.userSettings.successMsg:e.fn[a].defaultSuccessMsg,i.selectElements(),i.initMarkup(),i.addBehaviour(),i.updateFieldValue()}var a="ariaValidate",r={r:"role",aHi:"aria-hidden",aLi:"aria-live",aRe:"aria-relevant",aAt:"aria-atomic",aErM:"aria-errormessage",aInv:"aria-invalid",aOw:"aria-owns",req:"required",t:"true",f:"false"},i=0,s=e(t);e.extend(d.prototype,{selectElements:function(){var e=this,t=e.classes,a=e.element;e.field=a.find("."+t.fieldClass),e.label=a.find("."+t.labelClass),e.alertbox=1===a.find("."+t.alertboxClass).length?a.find("."+t.alertboxClass):!1,e.successbox=1===a.find("."+t.successboxClass).length?a.find("."+t.successboxClass):!1,e.fieldTag=e.field.prop("tagName"),e.fieldType="INPUT"===e.fieldTag?e.field.attr("type"):!1},initMarkup:function(){var e=this,t=l(e.element,e.classes.inputGroupIdPrefix,i),n=l(e.field,t+"__input"),o=e.alertbox!==!1?l(e.alertbox,t+"__alertbox"):!1,u=e.successbox!==!1?l(e.successbox,t+"__successbox"):!1;e.label.is('[for="'+n+'"]')||e.label.attr("for",n),e.alertbox&&(e.field.attr(r.aErM,o),e.alertbox.attr(r.r,"alert").attr(r.aLi,"assertive").attr(r.aRe,"additions text").attr(r.aAt,r.t).attr(r.aHi,r.t)),e.successbox&&(e.successbox.attr(r.aLi,"polite").attr(r.aRe,"additions text").attr(r.aAt,r.t).attr(r.aHi,r.t),e.field.attr(r.aOw,u)),s.trigger(a+".markupInitialised",[e]),i+=1},addBehaviour:function(){for(var e=this,t=e.behaviour,r=t.length,i=0;r>i;i+=1)e.bindEventListeners(t[i]);s.trigger(a+".eventListenersAdded",[e])},bindEventListeners:function(e){var t=this,r=o(e.event,a),i=e.preventErrors||!1,s=e.autoformat||!1,l=e.validate||!1,n=e.main||!1;t.field.on(r,function(){i&&t.performPreventErrors(i),s&&t.performAutoformat(s),l&&t.performValidation(l,n)})},unbindEventListeners:function(e){var t=this;t.field.off(o(e,a)),s.trigger(a+".eventListenersRemoved",[t])},updateFieldValue:function(){var e=this;"checkbox"===e.fieldType?e.fieldValue=e.field.prop("checked"):e.fieldValue=e.field.val()||"",e.field.attr("data-value",e.fieldValue)},performPreventErrors:function(e){var t=this;t.updateFieldValue(),console.log("preventError")},performAutoformat:function(t){var r=this;r.updateFieldValue();for(var i in t)r.fieldValue=e.fn[a].autoformatFunctions[i](r.fieldValue,t[i],r.regionSettings);r.field.val(r.fieldValue)},performValidation:function(t,r){var i=this;i.updateFieldValue();for(var s in t){var l=e.fn[a].validateFunctions[s](i.fieldValue,t[s],i.regionSettings);if(l!==!0)return i.fieldStatus=l,void i.invalidateFieldGroup()}r?i.validateFieldGroup(r):i.resetFieldGroup()},invalidateFieldGroup:function(){var e=this;e.element.removeClass(e.classes.fieldGroupValidClass).addClass(e.classes.fieldGroupErrorClass),e.field.attr(r.aInv,r.t).removeClass(e.classes.fieldValidClass).addClass(e.classes.fieldErrorClass),e.label.removeClass(e.classes.labelValidClass).addClass(e.classes.labelErrorClass),e.successbox&&e.successbox.html("").attr(r.aHi,r.t).removeClass(e.classes.successboxVisibleClass),e.alertbox&&e.fieldStatus!==!0&&e.alertbox.html(e.errorMsgs[e.fieldStatus]).attr(r.aHi,r.f).addClass(e.classes.alertboxVisibleClass),s.trigger(a+".isInvalid",[e])},validateFieldGroup:function(){var e=this;e.element.removeClass(e.classes.fieldGroupErrorClass).addClass(e.classes.fieldGroupValidClass),e.field.attr(r.aInv,r.f).removeClass(e.classes.fieldErrorClass).addClass(e.classes.fieldValidClass),e.label.removeClass(e.classes.labelErrorClass).addClass(e.classes.labelValidClass),e.alertbox&&e.alertbox.html("").attr(r.aHi,r.t).removeClass(e.classes.alertboxVisibleClass),e.successbox&&e.successMsg!==!1&&e.successbox.html(e.successMsg).attr(r.aHi,r.f).addClass(e.classes.successboxVisibleClass),s.trigger(a+".isValid",[e])},resetFieldGroup:function(){var e=this;e.element.removeClass(e.classes.fieldGroupErrorClass).removeClass(e.classes.fieldGroupValidClass),e.field.removeAttr(r.aInv).removeClass(e.classes.fieldErrorClass).removeClass(e.classes.fieldValidClass),e.label.removeClass(e.classes.labelErrorClass).removeClass(e.classes.labelValidClass),e.alertbox&&e.alertbox.html("").attr(r.aHi,r.t).removeClass(e.classes.alertboxVisibleClass),e.successbox&&e.successMsg!==!1&&e.successbox.html("").attr(r.aHi,r.t).removeClass(e.classes.successboxVisibleClass),s.trigger(a+".resetted",[e])},methodCaller:function(e,t){var a=this;switch(e){case"updateFieldValue":a.updateFieldValue();break;case"validate":a.performValidation();break;case"autoformat":a.performAutoformat();break;case"invalidateField":a.invalidateFieldGroup();break;case"validateField":a.validateFieldGroup();break;case"unbindEventListeners":a.unbindEventListeners(t)}}}),e.fn[a]=function(t,r){return this.each(function(){var i=this;e.data(i,"plugin_"+a)||"object"!=typeof t&&"undefined"!=typeof t?"string"==typeof t&&e.data(i,"plugin_"+a).methodCaller(t,r):e.data(i,"plugin_"+a,new d(i,t))})},e.fn[a].defaultClasses={fieldGroupIdPrefix:"field-group--",fieldGroupValidClass:"field-group_valid",fieldGroupErrorClass:"field-group_error",fieldClass:"field-group__field",fieldErrorClass:"field-group__field_error",fieldValidClass:"field-group__field_valid",labelClass:"field-group__label",labelErrorClass:"field-group__label_error",labelValidClass:"field-group__label_valid",alertboxClass:"field-group__alertbox",successboxClass:"field-group__successbox",alertboxVisibleClass:"field-group__alertbox_visible",successboxVisibleClass:"field-group__successbox_visible"},e.fn[a].defaultRegionSettings={dateFormat:"eu",dateSeparator:"/",decimalSeparator:","},e.fn[a].defaultErrorMsgs={letters:"Digits are not allowed in this field",onlyLetters:"Only letters are accepted",digits:"Letters are not allowed in this field",onlyDigits:"Only digits are accepted","int":"Enter a whole number (e.g. 12)","float":"Enter a number (e.g. 12.168 or 16)",bool:"You have to check this checkbox in order to continue",date:"Not a valid date",minDate:"The date entered is too far in the past",maxDate:"The date entered is too far in the future",time:"Entera valid time (e.g. 10:30)",minTime:"Time is before the minimum time",maxTime:"Time is after the maximum time",email:"Enter a valid email address",telWithPrefix:"Enter a valid phone number with the county prefix (e.g. +49 373837638)",telNoPrefix:"Enter a valid phone number",telPrefix:"Not a valid prefix",password:"Password is not secure",min:"The entered number is too small",max:"The entered number is too big",minLength:"The length of the input is too short",maxLength:"Field length exceeds the maximum number of chars allowed",required:"This field is required to sucessfully complete the form",tokens:"Please choose one value from the list",match:"No match",customRegex:'Regex match returned "false"',ajax:"server says no!",ajaxError:"Server connection error"},e.fn[a].defaultSuccessMsg="Perfect! You told us exactly what we wanted to know!",e.fn[a].validateFunctions={letters:function(e){return/^[\D]*$/.test(e)?!0:"letters"},onlyLetters:function(e){return/^[a-zA-Z�������������������������������������������������������������]*$/.test(e)?!0:"onlyLetters"},digits:function(e){return/^[^a-zA-Z�������������������������������������������������������������]*$/.test(e)?!0:"digits"},onlyDigits:function(e){return/^[\d]*$/.test(e)?!0:"onlyDigits"},"int":function(e){var t=parseInt(e,10);return Number.isInteger(t)?!0:""===t?!0:"int"},"float":function(e,t,a){var r=e.split(","),i=e.split(".");return r.length>=2&&"."===a.decimalSeparator||i.length>=2&&","===a.decimalSeparator?"float":(","===a.decimalSeparator&&(e=e.replace(/,/,".")),isNaN(e-parseFloat(e))?"float":!0)},bool:function(e){return e?!0:"bool"},date:function(e,t,a){if(e=u(e,a.dateFormat,a.dateSeparator),/^\d{4}-\d{2}-\d{2}$/.test(e)){var r=new Date(e);return isNaN(r.getTime())?"date":!0}return""===e?!0:"date"},minDate:function(e,t,a){return e=u(e,a.dateFormat,a.dateSeparator),""===e?!0:new Date(e)>=new Date(t)?!0:"minDate"},maxDate:function(e,t,a){return e=u(e,a.dateFormat,a.dateSeparator),""===e?!0:new Date(e)<=new Date(t)?!0:"maxDate"},email:function(e,t){return/^([\w-\.]+@([\w\-]+\.)+[\w\-]{2,4})?$/.test(e)?!0:"email"},telWithPrefix:function(e){return/^(\+(?:[0-9] ?){6,14}[0-9])?$/.test(e)?!0:"telWithPrefix"},telNoPrefix:function(e){return/^((?:[0-9] ?){6,14}[0-9])?$/.test(e)?!0:"telNoPrefix"},telPrefix:function(e){return/^(\+(?:[0-9] ?){1,4}[0-9])?$/.test(e)?!0:"telPrefix"},password:function(e){return/^((?=.*\d)(?=.*[!@#$%\^&*])(?=.*[a-z])(?=.*[A-Z]).{4,50})?$/.test(e)?!0:"password"},min:function(e,t){var a=parseFloat(e,10);return a>=t?!0:""===a?!0:"min"},max:function(e,t){var a=parseFloat(e,10);return t>=a?!0:""===a?!0:"max"},minLength:function(e,t){var a=e.length;return a>=t?!0:0===a?!0:"minLength"},maxLength:function(e,t){var a=e.length;return t>=a?!0:0===a?!0:"maxLength"},required:function(e){return e.length>0?!0:"required"},tokens:function(e,t){for(var a=t.length,r=0;a>r;r+=1)if(t[r]===e)return!0;return"tokens"},matchMain:function(e,t){var a=t.val();return""!==a?e===t.val()?!0:"match":!0},match:function(e,t){return e===t.val()?!0:"match"},customRegex:function(e,t){return t.test(e)?!0:"customRegex"},ajax:function(t,r){e.ajax({method:"POST",url:r,data:t}).done(function(e){return"true"===e?!0:"ajax"}).fail(function(){return"ajaxError"})}},e.fn[a].autoformatFunctions={trim:function(e){return e.trim()},uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},capitalize:function(e){for(var t=e.split(" "),a=t.length,r="",i=0;a>i;i+=1)t[i]=t[i].slice(0,1).toUpperCase()+t[i].slice(1),r=r+" "+t[i];return r},capitalizeFirst:function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},replace:function(e,t){if(Array.isArray(t)&&t.length>0)for(var a=t.length,r=0;a>r;r+=1)e=e.replace(t[r].searchFor,t[r].replaceWith);else e=e.replace(t.searchFor,t.replaceWith);return e},autocompleteDate:function(e,t,a){if(""===e)return e;var r=a.dateSeparator,i=e.split(a.dateSeparator),s="",l="",n="";return 3!==i.length?e:(s=i[0],l=i[1],n=i[2],1===s.length&&(s="0"+s),1===l.length&&(l="0"+l),2===n.length&&(n=t+n),s+r+l+r+n)}}}(jQuery,window));